<div th:fragment="main-content" xmlns:th="http://www.w3.org/1999/xhtml">
    <div th:switch="${view}">

        <!-- OVERVIEW -->
        <div th:case="'overview'">
            <h2>Mano bendrija</h2>
            <div class="cards">
                <div class="card">
                    <h3>Bendrija</h3>
                    <div class="number" th:text="${community.name}">-</div>
                </div>
                <div class="card">
                    <h3>Paslaugų</h3>
                    <div class="number" th:text="${feesCount}">0</div>
                </div>
                <div class="card">
                    <h3>Kainų</h3>
                    <div class="number" th:text="${pricesCount}">0</div>
                </div>
            </div>
        </div>

        <!-- PAYMENTS -->
        <div th:case="'payments'">
            <h2>Bendrijos paslaugos</h2>
            <table>
                <thead>
                <tr>
                    <th>Paslauga</th>
                    <th>Matavimo vnt.</th>
                    <th>Kaina (€)</th>
                    <th>Galioja nuo</th>
                    <th>Galioja iki</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="p : ${prices}">
                    <td th:text="${p.fee.name}"></td>
                    <td th:text="${p.fee.unit}"></td>
                    <td th:text="${#numbers.formatDecimal(p.amount, 1, 2)}"></td>
                    <td th:text="${#temporals.format(p.validFrom, 'yyyy-MM-dd')}"></td>
                    <td th:text="${p.validTo != null ? #temporals.format(p.validTo, 'yyyy-MM-dd') : '-'}"></td>
                </tr>
                </tbody>
            </table>
        </div>

        <!-- PROFILE -->
        <div th:case="'profile'">
            <h2>Mano profilis</h2>

            <form id="profileForm" th:attr="data-user-id=${user.id}">
                <label>Vardas</label>
                <input name="name" type="text" th:value="${user.name}" readonly>

                <label>El. paštas</label>
                <input name="email" type="email" th:value="${user.email}" required>

                <label>Naujas slaptažodis</label>
                <input name="password" type="password" placeholder="Palikite tuščią, jei nekeičiate">

                <button type="submit" class="save-btn">Išsaugoti</button>
            </form>

            <div id="profileMessage" style="margin-top:10px;"></div>

        </div>


    </div>
</div>


